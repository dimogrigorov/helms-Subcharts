# This helm chart can be use for installing mongodb replicaset on OCP 4.x

Refer:
https://bitnami.com/stack/mongodb/helm
https://github.com/bitnami/charts/tree/master/bitnami/mongodb/#installing-the-chart

## Prerequisites
### Create required secrets
 
oc create secret generic mongodb-cred --from-literal=mongodb-root-password="some pass for mongodb "root" account" --from-literal=mongodb-password="password for mongodb user (devops)" --from-literal=mongodb-replica-set-key="mongodb cluster pass" --dry-run=client -o yaml |oc apply -f -
# If you want to use the already generated by ccbd team certificates from within cert_keystore directory do:
oc create secret generic mongodb-replicaset-ca --from-file=mongodb-ca-cert=mong-root-ca.crt --from-file=mongodb-ca-key=mongodb.key --dry-run=client -o yaml | oc apply -f -

* mong-root-ca.crt - intermediate certificate
* mongodb.key - private key fro intermediate certificate

## Deployment
helm upgrade mongodb-replicaset mongodb-10.20.0.tgz --install --values values-oc.yaml
